# üìö Configuration Usage Examples

This guide demonstrates practical usage patterns for the Store Configuration System with real code examples you can copy and use in your components.

## üöÄ Basic Usage Patterns

### 1. Simple Feature Check

The most common pattern - conditionally render components based on feature flags:

```typescript
import { isFeatureEnabled } from '@lib/config/companion-config'

const SimpleFeatureCheck: React.FC = () => {
  if (!isFeatureEnabled('aiCompanion')) {
    return null // Don't render if feature is disabled
  }

  return (
    <div>
      <button>Open AI Assistant</button>
    </div>
  )
}
```

### 2. Multiple Feature Checks

Check multiple features efficiently:

```typescript
import { isFeatureEnabled } from '@lib/config/companion-config'

const ConditionalFeatureRender: React.FC = () => {
  const hasAI = isFeatureEnabled('aiCompanion')
  const hasHelp = isFeatureEnabled('helpCompanion')
  const hasWishlist = isFeatureEnabled('wishlist')
  
  return (
    <div className="conditional-features">
      <h3>Available Features</h3>
      
      {hasAI && (
        <div className="feature-card bg-blue-50 p-3 rounded mb-2">
          <h4>ü§ñ AI Shopping Assistant</h4>
          <p>Get personalized shopping help and support</p>
        </div>
      )}
      
      {hasHelp && (
        <div className="feature-card bg-green-50 p-3 rounded mb-2">
          <h4>‚ùì Help & Support</h4>
          <p>Access documentation and support resources</p>
        </div>
      )}
      
      {hasWishlist && (
        <div className="feature-card bg-purple-50 p-3 rounded mb-2">
          <h4>üíù Wishlist</h4>
          <p>Save products for later</p>
        </div>
      )}
      
      {!hasAI && !hasHelp && !hasWishlist && (
        <p className="text-gray-500">No optional features are currently enabled.</p>
      )}
    </div>
  )
}
```

## üéõÔ∏è Working with Collections

### 3. Dynamic Navigation Based on Configuration

Build navigation dynamically based on enabled features:

```typescript
import { getEnabledFeatures, getLayoutConfig } from '@lib/config/companion-config'

const DynamicNavigation: React.FC = () => {
  const enabledFeatures = getEnabledFeatures()
  const layoutConfig = getLayoutConfig()
  
  return (
    <nav className="flex gap-4">
      {enabledFeatures.slice(0, layoutConfig.maxVisibleButtons).map((featureKey) => (
        <button 
          key={featureKey}
          className="flex items-center gap-2 px-3 py-2 rounded"
          title={`Open ${featureKey}`}
        >
          {layoutConfig.showIcons && <span>üîß</span>}
          {layoutConfig.showLabels && <span>{featureKey}</span>}
        </button>
      ))}
    </nav>
  )
}
```

### 4. Layout-Aware Components

Handle overflow and responsive behavior:

```typescript
import { getEnabledFeatures, getLayoutConfig } from '@lib/config/companion-config'

const LayoutAwareButtons: React.FC = () => {
  const layoutConfig = getLayoutConfig()
  const enabledFeatures = getEnabledFeatures()
  
  const visibleFeatures = enabledFeatures.slice(0, layoutConfig.maxVisibleButtons)
  const hiddenFeatures = enabledFeatures.slice(layoutConfig.maxVisibleButtons)
  
  return (
    <div className="layout-aware-buttons">
      <div className="visible-buttons flex gap-2">
        {visibleFeatures.map((feature) => (
          <button 
            key={feature}
            className="px-3 py-2 bg-blue-500 text-white rounded"
          >
            {layoutConfig.showIcons && 'üîß'} 
            {layoutConfig.showLabels && feature}
          </button>
        ))}
        
        {hiddenFeatures.length > 0 && (
          <button className="px-3 py-2 bg-gray-500 text-white rounded">
            +{hiddenFeatures.length} more
          </button>
        )}
      </div>
      
      <div className="config-info mt-2 text-sm text-gray-600">
        Showing {visibleFeatures.length} of {enabledFeatures.length} features
        (max: {layoutConfig.maxVisibleButtons})
      </div>
    </div>
  )
}
```

## üìä Configuration Display Components

### 5. Feature Status Display

Show users which features are available:

```typescript
import { isFeatureEnabled } from '@lib/config/companion-config'

const FeatureStatusDisplay: React.FC = () => {
  const features = [
    { key: 'aiCompanion', name: 'AI Assistant' },
    { key: 'helpCompanion', name: 'Help System' },
    { key: 'wishlist', name: 'Wishlist' },
    { key: 'productCompare', name: 'Product Compare' },
    { key: 'reviews', name: 'Reviews' }
  ]
  
  return (
    <div className="feature-status">
      <h3>Feature Status</h3>
      {features.map(({ key, name }) => (
        <div key={key} className="flex items-center justify-between p-2 border-b">
          <span>{name}</span>
          <span className={`px-2 py-1 rounded text-sm ${
            isFeatureEnabled(key) 
              ? 'bg-green-100 text-green-800' 
              : 'bg-gray-100 text-gray-600'
          }`}>
            {isFeatureEnabled(key) ? '‚úÖ Enabled' : '‚ùå Disabled'}
          </span>
        </div>
      ))}
    </div>
  )
}
```

### 6. Configuration Debug Display

Show current configuration (useful for development):

```typescript
import { 
  getLayoutConfig, 
  getGlobalSettings, 
  getDevelopmentConfig,
  getEnabledFeatures 
} from '@lib/config/companion-config'

const ConfigurationDisplay: React.FC = () => {
  const layoutConfig = getLayoutConfig()
  const globalSettings = getGlobalSettings()
  const devConfig = getDevelopmentConfig()
  const enabledFeatures = getEnabledFeatures()
  
  return (
    <div className="config-display space-y-4">
      <div>
        <h3 className="font-semibold">Enabled Features</h3>
        <p className="text-sm text-gray-600">
          {enabledFeatures.length > 0 ? enabledFeatures.join(', ') : 'None'}
        </p>
      </div>
      
      <div>
        <h3 className="font-semibold">Layout Configuration</h3>
        <pre className="bg-gray-100 p-2 text-xs rounded">
          {JSON.stringify(layoutConfig, null, 2)}
        </pre>
      </div>
      
      <div>
        <h3 className="font-semibold">Global Settings</h3>
        <pre className="bg-gray-100 p-2 text-xs rounded">
          {JSON.stringify(globalSettings, null, 2)}
        </pre>
      </div>
      
      {devConfig.enableDebugMode && (
        <div>
          <h3 className="font-semibold">Development Settings</h3>
          <pre className="bg-yellow-100 p-2 text-xs rounded">
            {JSON.stringify(devConfig, null, 2)}
          </pre>
        </div>
      )}
    </div>
  )
}
```

## üîß Development Mode Features

### 7. Development-Only Components

Show debug information only in development:

```typescript
import { getDevelopmentConfig, getEnabledFeatures, getLayoutConfig, getGlobalSettings } from '@lib/config/companion-config'

const DevelopmentFeatures: React.FC = () => {
  const devConfig = getDevelopmentConfig()
  
  if (!devConfig.enableDebugMode) {
    return null
  }
  
  return (
    <div className="dev-features bg-yellow-50 p-4 rounded border-l-4 border-yellow-400">
      <h3 className="font-semibold text-yellow-800">üîß Development Mode</h3>
      
      {devConfig.logStateChanges && (
        <p className="text-sm text-yellow-700">State changes are being logged to console</p>
      )}
      
      {devConfig.showPanelDemoButtons && (
        <div className="demo-buttons mt-2">
          <button className="mr-2 px-2 py-1 bg-yellow-200 rounded text-sm">
            Demo Panels
          </button>
        </div>
      )}
      
      <details className="mt-2">
        <summary className="cursor-pointer text-sm text-yellow-700">
          Show Debug Info
        </summary>
        <pre className="mt-2 text-xs bg-yellow-100 p-2 rounded overflow-auto">
          {JSON.stringify({
            enabledFeatures: getEnabledFeatures(),
            layoutConfig: getLayoutConfig(),
            globalSettings: getGlobalSettings()
          }, null, 2)}
        </pre>
      </details>
    </div>
  )
}
```

## ü™ù Custom Hooks

### 8. Custom Hook for Feature Management

Create reusable logic for feature status:

```typescript
import React from 'react'
import { 
  isFeatureEnabled, 
  getEnabledFeatures, 
  getLayoutConfig,
  getGlobalSettings 
} from '@lib/config/companion-config'

const useFeatureStatus = () => {
  const [features] = React.useState(() => ({
    aiCompanion: isFeatureEnabled('aiCompanion'),
    helpCompanion: isFeatureEnabled('helpCompanion'),
    wishlist: isFeatureEnabled('wishlist'),
    productCompare: isFeatureEnabled('productCompare'),
    reviews: isFeatureEnabled('reviews')
  }))
  
  const enabledCount = Object.values(features).filter(Boolean).length
  const totalCount = Object.keys(features).length
  
  return {
    features,
    enabledCount,
    totalCount,
    enabledFeatures: getEnabledFeatures(),
    layoutConfig: getLayoutConfig(),
    globalSettings: getGlobalSettings()
  }
}

// Usage of custom hook
const FeatureDashboard: React.FC = () => {
  const { 
    features, 
    enabledCount, 
    totalCount, 
    layoutConfig 
  } = useFeatureStatus()
  
  return (
    <div className="feature-dashboard bg-gray-50 p-4 rounded">
      <div className="dashboard-header mb-4">
        <h3 className="text-lg font-semibold">Feature Dashboard</h3>
        <p className="text-sm text-gray-600">
          {enabledCount} of {totalCount} optional features enabled
        </p>
      </div>
      
      <div className="progress-bar mb-4">
        <div className="bg-gray-200 rounded-full h-2">
          <div 
            className="bg-blue-500 h-2 rounded-full transition-all duration-300"
            style={{ width: `${(enabledCount / totalCount) * 100}%` }}
          />
        </div>
      </div>
      
      <div className="feature-grid grid grid-cols-2 gap-2">
        {Object.entries(features).map(([key, enabled]) => (
          <div 
            key={key}
            className={`p-2 rounded text-sm ${
              enabled ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'
            }`}
          >
            <div className="flex items-center justify-between">
              <span className="capitalize">{key.replace(/([A-Z])/g, ' $1').trim()}</span>
              <span>{enabled ? '‚úÖ' : '‚ùå'}</span>
            </div>
          </div>
        ))}
      </div>
      
      <div className="layout-info mt-4 pt-4 border-t border-gray-200">
        <div className="text-sm text-gray-600">
          Max visible buttons: {layoutConfig.maxVisibleButtons} | 
          Show icons: {layoutConfig.showIcons ? 'Yes' : 'No'} | 
          Show labels: {layoutConfig.showLabels ? 'Yes' : 'No'}
        </div>
      </div>
    </div>
  )
}
```

## üéØ Common Patterns Summary

### Quick Reference

| Pattern | Use Case | Function |
|---------|----------|----------|
| **Single Feature Check** | Show/hide components | `isFeatureEnabled('featureName')` |
| **Multiple Features** | Complex conditional logic | Multiple `isFeatureEnabled()` calls |
| **All Enabled Features** | Dynamic lists/navigation | `getEnabledFeatures()` |
| **Layout Configuration** | Responsive behavior | `getLayoutConfig()` |
| **Global Settings** | App-wide preferences | `getGlobalSettings()` |
| **Development Mode** | Debug components | `getDevelopmentConfig()` |

### Best Practices

1. **Cache Feature Checks**: Use `useState` or `useMemo` for expensive operations
2. **Graceful Fallbacks**: Always handle disabled features gracefully
3. **Development Helpers**: Use debug components to visualize configuration
4. **Type Safety**: Import types from `@lib/config/types` for better TypeScript support
5. **Performance**: Batch feature checks when possible

## üîó Related Documentation

- [Main Configuration Guide](/index.md)
- [Quick Reference](/README.md)
- [Companion Panel System](/COMPANION-PANEL-SYSTEM.md)